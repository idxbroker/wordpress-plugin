function _typeof(e){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){function e(e,t){for(var i in e){var a=e[i],n=this.input.getAttribute("data-"+i.toLowerCase());this[i]="number"==typeof a?parseInt(n):a===!1?null!==n:a instanceof Function?null:n,this[i]||0===this[i]||(this[i]=i in t?t[i]:a)}}function t(e,t){return"string"==typeof e?(t||document).querySelector(e):e||null}function i(e,t){return r.call((t||document).querySelectorAll(e))}function a(){i("input.awesomplete").forEach(function(e){new Awesomplete(e)})}var n=function o(i,a){var n=this;this.input=t(i),this.input.setAttribute("autocomplete","off"),this.input.setAttribute("aria-autocomplete","list"),a=a||{},e.call(this,{minChars:2,maxItems:10,autoFirst:!1,filter:o.FILTER_CONTAINS,sort:o.SORT_BYLENGTH,item:function(e,i){return t.create("li",{innerHTML:e.replace(RegExp(t.regExpEscape(i.trim()),"gi"),"<mark>$&</mark>"),"aria-selected":"false"})},replace:function(e){this.input.value=e}},a),this.index=-1,this.container=i.parentNode.className.search(/awesomplete/)<0?t.create("div",{className:"awesomplete",around:i}):i.parentNode,this.ul=t.create("ul",{hidden:"",inside:this.container}),this.status=t.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-relevant":"additions",inside:this.container}),t.bind(this.input,{input:this.evaluate.bind(this),blur:this.close.bind(this),keydown:function(e){var t=e.keyCode;n.opened&&(13===t&&n.selected?(e.preventDefault(),n.select()):27===t?n.close():(38===t||40===t)&&(e.preventDefault(),n[38===t?"previous":"next"]()))}}),t.bind(this.input.form,{submit:this.close.bind(this)}),t.bind(this.ul,{mousedown:function(e){var t=e.target;if(t!==this){for(;t&&!/li/i.test(t.nodeName);)t=t.parentNode;t&&n.select(t)}}}),this.input.hasAttribute("list")?(this.list="#"+i.getAttribute("list"),i.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||a.list||[],o.all.push(this)};n.prototype={set list(e){Array.isArray(e)?this._list=e:"string"==typeof e&&e.indexOf(",")>-1?this._list=e.split(/\s*,\s*/):(e=t(e),e&&e.children&&(this._list=r.apply(e.children).map(function(e){return e.textContent.trim()}))),document.activeElement===this.input&&this.evaluate()},get selected(){return this.index>-1},get opened(){return this.ul&&null==this.ul.getAttribute("hidden")},close:function(){this.ul.setAttribute("hidden",""),this.index=-1,t.fire(this.input,"awesomplete-close")},open:function(){this.ul.removeAttribute("hidden"),this.autoFirst&&-1===this.index&&this["goto"](0),t.fire(this.input,"awesomplete-open")},next:function(){var e=this.ul.children.length;this["goto"](this.index<e-1?this.index+1:-1)},previous:function(){var e=this.ul.children.length;this["goto"](this.selected?this.index-1:e-1)},"goto":function(e){var i=this.ul.children;this.selected&&i[this.index].setAttribute("aria-selected","false"),this.index=e,e>-1&&i.length>0&&(i[e].setAttribute("aria-selected","true"),this.status.textContent=i[e].textContent),t.fire(this.input,"awesomplete-highlight")},select:function(e){if(e=e||this.ul.children[this.index]){var i;t.fire(this.input,"awesomplete-select",{text:e.textContent,preventDefault:function(){i=!0}}),i||(this.replace(e.textContent),this.close(),t.fire(this.input,"awesomplete-selectcomplete"))}},evaluate:function(){var e=this,t=this.input.value;t.length>=this.minChars&&this._list.length>0?(this.index=-1,this.ul.innerHTML="",this._list.filter(function(i){return e.filter(i,t)}).sort(this.sort).every(function(i,a){return e.ul.appendChild(e.item(i,t)),a<e.maxItems-1}),0===this.ul.children.length?this.close():this.open()):this.close()}},n.all=[],n.FILTER_CONTAINS=function(e,i){return RegExp(t.regExpEscape(i.trim()),"i").test(e)},n.FILTER_STARTSWITH=function(e,i){return RegExp("^"+t.regExpEscape(i.trim()),"i").test(e)},n.SORT_BYLENGTH=function(e,t){return e.length!==t.length?e.length-t.length:t>e?-1:1};var r=Array.prototype.slice;return t.create=function(e,i){var a=document.createElement(e);for(var n in i){var r=i[n];if("inside"===n)t(r).appendChild(a);else if("around"===n){var o=t(r);o.parentNode.insertBefore(a,o),a.appendChild(o)}else n in a?a[n]=r:a.setAttribute(n,r)}return a},t.bind=function(e,t){if(e)for(var i in t){var a=t[i];i.split(/\s+/).forEach(function(t){e.addEventListener(t,a)})}},t.fire=function(e,t,i){var a=document.createEvent("HTMLEvents");a.initEvent(t,!0,!0);for(var n in i)a[n]=i[n];e.dispatchEvent(a)},t.regExpEscape=function(e){return e.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},"undefined"!=typeof Document&&("loading"!==document.readyState?a():document.addEventListener("DOMContentLoaded",a)),n.$=t,n.$$=i,"undefined"!=typeof self&&(self.Awesomplete=n),"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&(module.exports=n),n}(),!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t():e.debounce=t()}(this,function(){"use strict";return function(e,t){var i;return function(){var a=this,n=arguments;clearTimeout(i),i=setTimeout(function(){e.apply(a,n)},t)}}});var idxOmnibar=function(e){function t(){var e=0;return debounce(function(t,i){if(i.value.length<1)return t.list=t._list.slice(0,t._list.length-e),void(e=0);var a="_wpnonce=";a=~idxAutocompleteServerObj.url.indexOf("?")?"&"+a:"?"+a,jQuery.ajax({url:idxAutocompleteServerObj.url+i.value+a+idxAutocompleteServerObj.nonce}).done(function(i){Array.isArray(i)&&0!==i.length&&(n=i,i=i.map(function(e){return e.value}),t.list=t._list.slice(0,t._list.length-e).concat(i),e=i.length)})},250)}if(document.querySelector(".idx-omnibar-input")&&!document.querySelector(".awesomplete ul")){var i=[],a=mlsPtIDs[0].mlsPtID,n=[];Object.size=function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i};var r=function(e,t,i){for(var a=0;a<e.length;a++)t.call(i,a,e[a])},o=function(e){for(var t="",i=0;i<Object.size(customFieldsKey);i++){var a=Object.keys(customFieldsKey)[i],n=customFieldsKey[a];e===a&&(t=n)}return t},s=function(e,t,i,a){return"zip"===i?e.forEach(function(e){""!==e.name&&"Other"!==e.name&&"Other State"!==e.name&&t.push(e.name)}):"county"===i?e.forEach(function(e){""!==e.name&&"Other"!==e.name&&"Other State"!==e.name&&t.push(e.name+" County, "+e.stateAbrv)}):"city"===i?e.forEach(function(e){""!==e.name&&"Other"!==e.name&&"Other State"!==e.name&&t.push(e.name+", "+e.stateAbrv)}):"address"===i?e.forEach(function(e){""!==e&&"Other"!==e&&"Other State"!==e&&t.push(e)}):e.forEach(function(e){""!==e&&"Other"!==e&&t.push(e+" "+o(a))}),t},u=function(t){for(var a=1;a<e.length;a++)for(var n=Object.keys(e[a])[0],r=Object.size(e[a][n]),o=0;o<r;o++){var u=Object.keys(e[a][n][o])[0],l=e[a][n][o][u];s(l,t,"custom",u)}return i},l=function(e){return void 0===e[0].core.addresses&&(e[0].core.addresses=[]),u(s(e[0].core.addresses,s(e[0].core.zipcodes,s(e[0].core.counties,s(e[0].core.cities,i,"city"),"county"),"zip"),"address"))},c=function(e){for(var t={},i=[],a=e.length,n=0,r=0;r<a;r++){var o=e[r];1!==t[o]&&(t[o]=1,i[n++]=o)}return i},b=t();r(document.querySelectorAll(".idx-omnibar-input"),function(t,i){var a=new Awesomplete(i,{autoFirst:!0});a.list=c(l(e)),i.addEventListener("input",function(){b(a,i)})});var d=!1,v=function(e,t,i,a){return"undefined"!=typeof agentHeaderID&&(i=i+"&agentHeaderID="+agentHeaderID),void 0!==a?window.location=t+i:window.location=t+i+f(e)},m=function(e,t,i){var a=e.parentNode.parentNode.querySelectorAll(".idx-omnibar-"+t)[0];return"undefined"==typeof a?"":a.value?i+e.parentNode.parentNode.querySelector(".idx-omnibar-"+t).value:""},f=function(e){var t="";return t+=m(e,"min-price","&lp="),t+=m(e,"price","&hp="),t+=m(e,"bed","&bd="),t+=m(e,"bath","&tb=")},h=function(e,t,i){var a=[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"Alberta",abbreviation:"AB"},{name:"American Samoa",abbreviation:"AS"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"Baha California",abbreviation:"BC"},{name:"Bahamas",abbreviation:"BS"},{name:"British Columbia",abbreviation:"BC"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District Of Columbia",abbreviation:"DC"},{name:"Federated States Of Micronesia",abbreviation:"FM"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Guam",abbreviation:"GU"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Jamaica",abbreviation:"JM"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Manitoba",abbreviation:"MB"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Mexico",abbreviation:"MX"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Brunswick",abbreviation:"NB"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"Newfoundland and Labrador",abbreviation:"NL"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Nova Scotia",abbreviation:"NS"},{name:"Northwest Territories",abbreviation:"NT"},{name:"Nunavut",abbreviation:"NU"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Ontario",abbreviation:"ON"},{name:"Oregon",abbreviation:"OR"},{name:"Palau",abbreviation:"PW"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Prince Edward Island",abbreviation:"PE"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Quebec",abbreviation:"QC"},{name:"Rhode Island",abbreviation:"RI"},{name:"Saskatchewan",abbreviation:"SK"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virgin Islands",abbreviation:"VI"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"},{name:"Yukon",abbreviation:"YT"}];if(void 0===e||i)return!0;for(var n=0;n<a.length;n++)if((a[n].abbreviation===e.toUpperCase()||a[n].name.toUpperCase()===e.toUpperCase())&&a[n].abbreviation===t)return!0},p=function(e,t){return void 0===e||"counties"===t},y=function(e,t,i,n){var r=e.value.toLowerCase().split(", ")[0],o=!1;if("jc"===r){r="jc, "+e.value.toLowerCase().split(", ")[1];var o=!0}for(var s=0;s<t.length;s++)if(r.split(" county")[0]===t[s].name.toLowerCase()&&h(e.value.split(", ")[1],t[s].stateAbrv,o)&&p(r.split(" county")[1],i)&&e.value)switch(i){case"cities":d=!0,v(e,idxUrl,"?pt="+a+"&ccz=city&city[]="+t[s].id+"&srt="+sortOrder);break;case"counties":d=!0,v(e,idxUrl,"?pt="+a+"&ccz=county&county[]="+t[s].id+"&srt="+sortOrder);break;case"zipcodes":d=!0,v(e,idxUrl,"?pt="+a+"&ccz=zipcode&zipcode[]="+t[s].id+"&srt="+sortOrder)}else if(d===!1&&s==t.length-1)return n},g=function(t){for(var i=1;i<e.length;i++){for(var a=Object.keys(e[i])[0],n=Object.size(e[i][a]),s=1;s<mlsPtIDs.length;s++)if(keyIdxID=mlsPtIDs[s].idxID,keyMlsPtID=mlsPtIDs[s].mlsPtID,keyIdxID===a)var u=keyMlsPtID;if("undefined"==typeof u)var u=1;for(var s=0;s<n;s++){var l=Object.keys(e[i][a][s])[0],c=e[i][a][s][l];if(r(c,function(e,i){if(""!==t.value&&(t.value.toLowerCase()===i.toLowerCase()||t.value.toLowerCase()===(i+" "+o(l)).toLowerCase()))return d=!0,v(t,idxUrl,"?pt="+u+"&idxID="+a+"&aw_"+l+"="+i+"&srt="+sortOrder)}),d)return}}if(d===!1)return x(t)},x=function(e){var t=a,i="",r="";if(n.forEach(function(a){a.value==e.value&&(mlsPtIDs.forEach(function(e){e.idxID==a.mls&&(t=e.mlsPtID)}),i=a.field,r=a.mls)}),"address"===i)return void v(e,idxUrl,"?idxID="+r+"&pt="+t+"&aw_address="+e.value+"&a_statusCategory[]=active&a_statusCategory[]=sold");var o=/\s/g.test(e.value);if(e.value)if(o===!1&&parseInt(e.value)!==isNaN){var s=!0;v(e,idxUrl,"?csv_listingID="+e.value+"&a_statusCategory[]=active&a_statusCategory[]=sold",s)}else{var u=e.value.split(" ");if(Number(u[0])>0){var l=u[1];if(u.length>1)for(var c=2,b=u.length;c<b;c++)l+="+"+u[c];v(e,idxUrl,"?pt="+t+"&a_streetNumber="+u[0]+"&aw_address="+l+"&srt="+sortOrder+"&a_statusCategory[]=active&a_statusCategory[]=sold")}else e.value===idxOmnibarPlaceholder?v(e,idxUrl,"?pt="+t+"&srt="+sortOrder+"&a_statusCategory[]=active&a_statusCategory[]=sold"):v(e,idxUrl,"?pt="+t+"&aw_address="+e.value.split(", ")[0]+"&srt="+sortOrder+"&a_statusCategory[]=active&a_statusCategory[]=sold")}else v(e,idxUrl,"?pt="+t+"&srt="+sortOrder)},A=function(t){t.preventDefault();var i=t.target.querySelector(".idx-omnibar-input");y(i,e[0].core.cities,"cities",y(i,e[0].core.counties,"counties",y(i,e[0].core.zipcodes,"zipcodes"))),d===!1&&g(i)};r(document.querySelectorAll(".idx-omnibar-form"),function(e,t){t.addEventListener("submit",A)}),r(document.querySelectorAll(".idx-omnibar-original-form"),function(e,t){t.offsetWidth<400&&t.classList.add("idx-omnibar-mini")})}};