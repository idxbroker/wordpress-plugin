document.addEventListener("DOMContentLoaded",function(){function e(e,r,n){for(var t=0;t<e.length;t++)r.call(n,e[t],t)}function r(){e(document.querySelectorAll(".impress-lead-signup"),function(e){e.addEventListener("submit",n)})}function n(r){var n=r.target;try{e(n.querySelectorAll("input"),function(e){t(e)})}catch(o){l(o,n),r.preventDefault()}}function t(e){if(null!==e.getAttribute("required")&&(""===e.value||" "===e.value))throw e.className="input-error","One or more fields are empty."}function o(){var r=i("error");return"lead"===r?window.location=idxLeadLoginUrl:void("true"===r&&e(document.querySelectorAll(".impress-lead-signup"),function(e){l("There is an error in the form. Please double check that your email address is valid.",e)}))}function i(e){var r=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)(?!.*"+e+")","i"),t=n.exec(r);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null}function l(e,r){var n=r.querySelectorAll(".error");if("undefined"!=typeof n[0])return n[0].innerHTML=e;var t=document.createElement("div");t.className="error",t.innerHTML=e,r.insertBefore(t,r.firstChild)}o(),r()});